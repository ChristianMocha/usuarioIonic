{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LoginPage],\n  providers: []\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Usuario } from '../models/usuario';\nimport { UsuarioService } from '../services/usuario.service';\nimport { AlertController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  public loginForm: FormGroup;\n  private usuarios: Usuario\n  private usuariosAll: Usuario[] = [];\n\n  constructor(private router: Router, private formBuilder: FormBuilder, private usuarioService: UsuarioService, private alertCtrl: AlertController) { }\n\n  ngOnInit() {\n    this.usuarioService.getUser().then( (res: any) => {\n      this.usuariosAll = res;\n    });\n    this.createForm();\n  }\n\n  createForm(){\n    this.loginForm = this.formBuilder.group({\n      username: [this.usuarios?.username || null, [Validators.required, Validators.pattern('^[a-zA-Z._%+-]+$')]],\n      email: [this.usuarios?.email || null, [Validators.required, Validators.pattern('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$')]],\n    });\n  }\n\n  async ingresar(){\n\n    if (this.loginForm.valid) {\n      const user = await this.usuariosAll.find( res => res.username === this.loginForm.value.username && res.email === this.loginForm.value.email);\n      \n      if (!user) {\n        this.alert('Credenciales incorrectas');\n        return;\n      }else{\n        this.saveStorage(user)\n      } \n    }else{\n      this.alert('Verifique que los campos esten correctos');\n    }\n  }\n\n  private saveStorage(user: Usuario){\n    this.usuarioService.saveStorage(user).then( \n      () => this.router.navigate(['/tabs/tab1']),\n      err => this.alert('Error al almacenar el elemento')\n    );\n   \n  }\n\n  private async alert(mesaje: string){\n    const alert = await this.alertCtrl.create({\n      header: mesaje,\n      buttons: [{\n        text: 'OK',\n        role: 'OK'\n      }]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}